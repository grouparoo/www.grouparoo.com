---
title: "Groups (Code Config)"
date: "2021-10-12"
pullQuote: "Learn how to configure Groups using Grouparoo's CLI tool."
breadcrumb_label: Groups
---

Once you have an App, Source, and Properties ([start with an App](/docs/running/ui-enterprise/apps) if you don't have any), then you're ready to define your Groups.

Groups are where the magic happens in Grouparoo. (It's in the name, after all!) Groups are a segment or cohort of Records. They are useful in that you can use Groups to target a specific set of users to [export to some Destination](/docs/running/ui-enterprise/destinations). [See here](/docs/getting-started/product-concepts) to learn more about the core concepts in Grouparoo.

## Generating Group

To generate a new Group for your Grouparoo application, run [the `generate` command](/docs/cli/config#generate).

    grouparoo generate group new_high_value_customers

Note here that `new_high_value_customers` is the ID for the Group. An ID is always required when generating a config object.

This command will generate a file in your application directory at `config/groups/new_high_value_customers.js` that looks something like this:

```js
exports.default = async function buildConfig() {
  return [
    {
      class: "group",
      id: "new_high_value_customers",
      name: "New High Value Customers",
      rules: [],
    },
  ];
};
```

which you can customize with rules such as:

```js
exports.default = async function buildConfig() {
  return [
    {
      class: "group",
      id: "recent_high_value_customers",
      name: "Recent High Value Customers",
      rules: [
        {
          propertyId: "email",
          operation: { op: "exists" },
        },
        {
          propertyId: "email",
          operation: { op: "notILike" },
          match: "%grouparoo.com",
        },
        {
          propertyId: "last_purchase_date",
          operation: { op: "relative_gt" },
          relativeMatch: "15",
          relativeMatchUnit: "days",
        },
        {
          propertyId: "ltv",
          operation: { op: "gt" },
          match: "3000",
        },
        {
          propertyId: "subscribed",
          operation: { op: "eq" },
          match: "true",
        },
      ],
    },
  ];
};
```

This Group would contain Records with an email address that is not `@grouparoo.com` that have made a purchase in the last 15 days, have a lifetime value over $3000, and are subscribed to our newsletter.

More info this below.

## Configuring Your Group

Configuring a Group is all about adding Rules to the Group. A Rule is some logical operator to Filter Properties. A Record must match every Rule to be included in the Group.

Available operations depends on both the _type_ of Property and the underlying Grouparoo database (SQLite vs. Postgres). See below for a list of rules. (If in doubt, choose Postgres.)

Note you can use SQL wildcard characters (%, \_, [ ], ^, -) in your Group rule match values as appropriate and necessary.

<RuleOpsTable />

Add your list of Rules to the `rules` array in the generated config file. You may also change any of the other default values, as necessary.

<ValidateAndApplyConfig />
